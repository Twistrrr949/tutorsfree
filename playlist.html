<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* 1. Define the CSS Variable for the Font Stack */
        :root {
            --font-stack: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        /* 2. Reset the default browser margins and padding, and apply the font */
        body, html {
            /* Full viewport size for the entire page */
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            
            /* Apply the desired font stack */
            font-family: var(--font-stack);
            
            /* Hide scrolling if the widget takes up exactly 100% of the viewport */
            overflow: hidden; 
        }

        /* 3. Style the Elfsight container to take up the full window */
        .elfsight-app-1d35e180-0026-4485-9cdd-d663f6e4088a {
            /* Use viewport units (vw/vh) for exact screen size */
            width: 100vw;
            height: 100vh;
            
            /* Ensure it sits at the top-left corner */
            position: absolute; 
            top: 0;
            left: 0;
            
            /* Optional: Add a subtle background color if the player doesn't fill the space perfectly */
            /* background-color: #f0f0f0; */
        }
    </style>
</head>
<body>

    <script src="https://elfsightcdn.com/platform.js" async></script>
    <div class="elfsight-app-1d35e180-0026-4485-9cdd-d663f6e4088a" data-elfsight-app-lazy></div>
 
</body>
   <script>
        (function() {
            // Use a fixed window name so we reuse (not duplicate) a "cloaked" tab if it already exists.
            // Opening with a constant name (instead of '_blank') will reuse an existing tab/window
            // that was previously opened with the same name.
            const CLOAKED_WINDOW_NAME = 'playlist';

            document.addEventListener('DOMContentLoaded', function() {
                // If this window was opened by another window, do nothing (this is the newly opened tab).
                if (window.opener) {
                    return;
                }

                // Attempt to reuse an already-open "cloaked" tab by using a named window.
                // If one exists, window.open will return a reference to it instead of creating a new tab.
                // If popups are blocked, window.open returns null and we show an alert as before.
                try {
                    // Gather the current page HTML once (we'll write it into the target tab).
                    const currentHtml = document.documentElement.outerHTML;

                    // Use the named-window approach to prefer reusing an existing cloaked tab.
                    // We explicitly navigate it to about:blank to ensure same-origin for writing (if allowed).
                    const newWindow = window.open('about:blank', CLOAKED_WINDOW_NAME);

                    if (newWindow) {
                        // Try writing into the target window. This may throw if the target
                        // is cross-origin (unlikely if it was previously opened by this script).
                        try {
                            newWindow.document.open();
                            newWindow.document.write(currentHtml);
                            newWindow.document.close();

                            // Successfully handed off the HTML to the (possibly existing) cloaked tab.
                            // Redirect the original tab to Google as before.
                            window.location.replace('https://www.google.com');
                        } catch (writeErr) {
                            // Could not access/write the target window (cross-origin or other restriction).
                            // As a fallback, notify the user. We avoid opening another tab to prevent duplication.
                            console.warn('Failed to write to cloaked tab (might be cross-origin):', writeErr);
                            alert("A cloaked tab exists but can't be reused (cross-origin or security restriction). Please close existing cloaked tabs or enable popups.");
                        }
                    } else {
                        // Popup was blocked â€” inform the user (keeps previous behavior).
                        alert("Please enable popups!");
                    }
                } catch (err) {
                    // Any unexpected error: log and notify user.
                    console.error('Unexpected error while trying to open/reuse cloaked tab:', err);
                    alert("An unexpected error occurred while preparing the cloaked tab.");
                }
            });
        })();
    </script>
</html>
